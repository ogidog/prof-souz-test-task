(function(){"use strict";var t={8659:function(t,r,e){var n=e(9242),i=e(3396);function a(t,r,e,n,a,s){const h=(0,i.up)("MainContainer");return(0,i.wg)(),(0,i.j4)(h)}var s=e(7139);const h=t=>((0,i.dD)("data-v-10a33b49"),t=t(),(0,i.Cn)(),t),o={class:"container"},u={class:"bar-chart-container",ref:"barChartContainer"},l=["width"],f=["transform"],c=["height","width","x","y"],g=["x","y"],b={class:"axes"},d=["x","width","height"],C=["y1","x2","y2"],m=["points"],_=["height"],A=["y2"],R=h((()=>(0,i._)("polygon",{points:"5 20, 15 0, 25 20",fill:"gray"},null,-1))),N=["y"],y={class:"button-controls"};function p(t,r,e,n,a,h){return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",u,[this.randomNumbers.length?((0,i.wg)(),(0,i.iD)("svg",{key:0,class:"bar-chart",ref:"barChart",width:this.barChartWidth,onMousedown:r[0]||(r[0]=t=>h.onDragAnDropBarChart(t))},[(0,i._)("g",{class:"bars-container",ref:"barsContainer",transform:`translate(${this.getCurrentTranslateX()}, ${this.yOrigin}) scale(1,-1)`},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.barHeights,((t,r)=>((0,i.wg)(),(0,i.iD)("rect",{class:"bar",key:r,height:Math.abs(t),width:this.BAR_WIDTH,x:r*(this.BAR_WIDTH+this.BAR_GAP),y:t<0?t:0},null,8,c)))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.barHeights,((t,r)=>((0,i.wg)(),(0,i.iD)("text",{transform:"scale(1,-1)",key:r,x:r*(this.BAR_WIDTH+this.BAR_GAP)+this.BAR_WIDTH/2,"dominant-baseline":"middle","text-anchor":"middle",y:t>0?-t-5:15-t},(0,s.zw)(this.randomNumbers[r]),9,g)))),128))],8,f),(0,i._)("g",b,[(0,i._)("rect",{x:this.barChartContainerWidth-this.BARS_CONTAINER_MARGIN_X,y:"0",width:this.BARS_CONTAINER_MARGIN_X,height:this.barChartContainerHeight,fill:"white"},null,8,d),(0,i._)("line",{x1:0,y1:this.yOrigin,x2:this.barChartContainerWidth,y2:this.yOrigin,"stroke-dasharray":"10 ","stroke-width":"2",stroke:"gray"},null,8,C),(0,i._)("polygon",{points:`${this.barChartContainerWidth-20} ${this.yOrigin-10},\n                        ${this.barChartContainerWidth} ${this.yOrigin},\n                        ${this.barChartContainerWidth-20} ${this.yOrigin+10}`,fill:"gray"},null,8,m),(0,i._)("rect",{x:"-1",y:"0",width:20,height:this.barChartContainerHeight,fill:"white"},null,8,_),(0,i._)("line",{x1:"15",y1:0,x2:"15",y2:this.barChartContainerHeight,"stroke-dasharray":"10 ","stroke-width":"2",stroke:"gray"},null,8,A),R,(0,i._)("text",{x:"0",y:this.yOrigin},"0",8,N)])],40,l)):(0,i.kq)("",!0)],512),(0,i._)("div",y,[(0,i._)("button",{onClick:r[1]||(r[1]=(...t)=>h.onPrevPaging&&h.onPrevPaging(...t))},(0,s.zw)("<")),(0,i._)("button",{onClick:r[2]||(r[2]=(...t)=>h.onBarAdd&&h.onBarAdd(...t))},"Add Bar"),(0,i._)("button",{onClick:r[3]||(r[3]=(...t)=>h.onBarRemove&&h.onBarRemove(...t))},"Remove Bar"),(0,i._)("button",{onClick:r[4]||(r[4]=(...t)=>h.onNextPaging&&h.onNextPaging(...t))},(0,s.zw)(">"))])])}e(7658);const v="http://localhost:8080";var I={created(){this.BAR_WIDTH=50,this.BAR_GAP=2,this.BARS_CONTAINER_MARGIN_X=20,this.BARS_CONTAINER_MARGIN_Y=20,this.MIN_VALUE=-200,this.MAX_VALUE=550},data(){return{randomNumbers:[10,-50,300,100,-150,50,30,100,150,50,30,100,150,50,15,80,150,50,30,100,150],barChartHeight:1,barChartContainerWidth:1,barChartContainerHeight:1,currentPage:0,maxRandomNumber:-1}},mounted(){this.onResize(),window.addEventListener("resize",this.onResize)},unmounted(){window.removeEventListener("resize",this.onResize)},methods:{getCurrentTranslateX(){if(!this.$refs.barsContainer)return this.BARS_CONTAINER_MARGIN_X;let t=Array.from(this.$refs.barsContainer.transform.baseVal).filter((t=>2===t.type))[0];return t.matrix.e},getRandomNumber(t,r){const e=v+"/api/random-number?minvalue="+t+"&maxvalue="+r;return fetch(e).then((t=>t.json())).then((t=>t["randomNumber"])).catch((t=>NaN))},async onBarAdd(){let t=await this.getRandomNumber(this.MIN_VALUE,this.MAX_VALUE);t&&this.randomNumbers.push(t)||console.log("Error with adding bar")},onBarRemove(){this.randomNumbers.pop()},onNextPaging(){if(this.currentPage!==this.numPages-1){this.currentPage+=1;let t=Array.from(this.$refs.barsContainer.transform.baseVal).filter((t=>2===t.type))[0];t.setTranslate(-this.currentPage*this.barChartContainerWidth,t.matrix.f)}},onPrevPaging(){if(0!==this.currentPage){let t=Array.from(this.$refs.barsContainer.transform.baseVal).filter((t=>2===t.type))[0];t.setTranslate(-this.currentPage*this.barChartContainerWidth+this.barChartContainerWidth+this.BARS_CONTAINER_MARGIN_X,t.matrix.f),this.currentPage-=1}},onDragAnDropBarChart(t){const r=t.currentTarget;let e=Array.from(this.$refs.barsContainer.transform.baseVal).filter((t=>2===t.type))[0],n=e.matrix.e,i=function(i){if(i.offsetX>0&&i.offsetX<=this.barChartContainerWidth-this.BARS_CONTAINER_MARGIN_X&&i.offsetY>0&&i.offsetY<this.barChartHeight&&n+i.offsetX-t.offsetX<=this.BARS_CONTAINER_MARGIN_X){e.setTranslate(n+i.offsetX-t.offsetX,e.matrix.f);for(let t=this.numPages+1;t>0;t--)e.matrix.e>-t*this.barChartContainerWidth&&e.matrix.e<=-(t-1)*this.barChartContainerWidth&&(this.currentPage=t-1),e.matrix.e>=0&&(this.currentPage=0)}else r.removeEventListener("mousemove",a,{capture:!0})},a=i.bind(this);r.onmouseup=function(){r.removeEventListener("mousemove",a,{capture:!0})},r.addEventListener("mousemove",a,{capture:!0})},onResize(){this.barChartHeight=this.$refs?.barChart?.clientHeight,this.barChartContainerWidth=this.$refs?.barChartContainer?.clientWidth,this.barChartContainerHeight=this.$refs?.barChartContainer?.clientHeight}},computed:{barChartWidth(){const t=this.randomNumbers.length*this.BAR_WIDTH+this.BAR_GAP*this.randomNumbers.length-this.BARS_CONTAINER_MARGIN_X;return t<this.barChartContainerWidth?this.barChartContainerWidth:t},yOrigin(){let t=Math.min.apply(null,this.barHeights);return t<0?this.barChartHeight/2+(this.barChartHeight/2+t)-this.BARS_CONTAINER_MARGIN_Y:this.barChartHeight-this.BARS_CONTAINER_MARGIN_Y},barHeights(){const t=[...this.randomNumbers],r=t.reduce((function(t,r){return Math.max(Math.abs(t),Math.abs(r))})),e=Math.min.apply(null,t),n=Math.max.apply(null,t);let i;(e<0&&n>this.barChartHeight||e<0&&n<this.barChartHeight)&&(i=(this.barChartHeight-this.BARS_CONTAINER_MARGIN_Y)/2),(e>=0&&n>this.barChartHeight||e>=0&&n<this.barChartHeight)&&(i=this.barChartHeight-2*this.BARS_CONTAINER_MARGIN_Y);const a=t=>{let e;for(let n=0;n<t.length;n++)e=t[n]/r*i,t[n]=parseInt(e)};return a(t),t},numPages(){return Math.ceil(this.randomNumbers.length/Math.floor(this.barChartContainerWidth/(this.BAR_WIDTH+this.BAR_GAP)))}}},w=e(89);const x=(0,w.Z)(I,[["render",p],["__scopeId","data-v-10a33b49"]]);var B=x,H={name:"App",components:{MainContainer:B}};const O=(0,w.Z)(H,[["render",a]]);var M=O;(0,n.ri)(M).mount("#app")}},r={};function e(n){var i=r[n];if(void 0!==i)return i.exports;var a=r[n]={exports:{}};return t[n](a,a.exports,e),a.exports}e.m=t,function(){var t=[];e.O=function(r,n,i,a){if(!n){var s=1/0;for(l=0;l<t.length;l++){n=t[l][0],i=t[l][1],a=t[l][2];for(var h=!0,o=0;o<n.length;o++)(!1&a||s>=a)&&Object.keys(e.O).every((function(t){return e.O[t](n[o])}))?n.splice(o--,1):(h=!1,a<s&&(s=a));if(h){t.splice(l--,1);var u=i();void 0!==u&&(r=u)}}return r}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[n,i,a]}}(),function(){e.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(r,{a:r}),r}}(),function(){e.d=function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)}}(),function(){var t={143:0};e.O.j=function(r){return 0===t[r]};var r=function(r,n){var i,a,s=n[0],h=n[1],o=n[2],u=0;if(s.some((function(r){return 0!==t[r]}))){for(i in h)e.o(h,i)&&(e.m[i]=h[i]);if(o)var l=o(e)}for(r&&r(n);u<s.length;u++)a=s[u],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(l)},n=self["webpackChunkprofsouz_test_task_frontend"]=self["webpackChunkprofsouz_test_task_frontend"]||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(8659)}));n=e.O(n)})();
//# sourceMappingURL=app.6cd6a9fe.js.map